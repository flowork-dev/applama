<div class="flex flex-col md:flex-row h-full overflow-hidden">
    <div class="w-full md:w-80 border-r border-[#333] bg-[#12131c] p-4 flex flex-col gap-4 overflow-y-auto shrink-0 custom-scrollbar">

        <div class="border border-[#333] rounded bg-[#0f1016] p-4">
            <label class="text-[10px] font-bold text-[#00ff9d] tracking-widest mb-2 block">1. SOURCE IMAGE</label>
            <div class="border-2 border-dashed border-[#333] hover:border-[#00ff9d] rounded bg-[#1a1b26] p-4 text-center cursor-pointer relative group transition-colors h-24 flex items-center justify-center">
                <input type="file" id="file-input" onchange="AppCore.handleFile(this)" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-50" accept="image/*">

                <div class="flex flex-col items-center gap-1 pointer-events-none">
                    <i data-lucide="image-plus" class="w-6 h-6 text-gray-500 group-hover:text-[#00ff9d] transition"></i>
                    <span class="text-[10px] text-gray-400 font-bold group-hover:text-white">TAP TO UPLOAD</span>
                </div>
            </div>
        </div>

        <div class="border border-[#333] rounded bg-[#0f1016] p-4 flex-1">
            <label class="text-[10px] font-bold text-[#00ff9d] tracking-widest mb-3 block">2. CUTTING MODE</label>

            <div class="flex gap-2 mb-4 bg-[#1a1b26] p-1 rounded">
                <label class="flex-1 text-center cursor-pointer relative">
                    <input type="radio" name="cut-mode" value="carousel" checked class="peer hidden" onchange="AppCore.setMode('carousel')">
                    <span class="block py-2 text-[10px] font-bold text-gray-500 bg-[#00ff9d] text-black rounded transition flex items-center justify-center gap-1">
                        <i data-lucide="gallery-horizontal" class="w-3 h-3"></i> CAROUSEL
                    </span>
                </label>
                <label class="flex-1 text-center cursor-pointer relative">
                    <input type="radio" name="cut-mode" value="grid" class="peer hidden" onchange="AppCore.setMode('grid')">
                    <span class="block py-2 text-[10px] font-bold text-gray-500 rounded transition flex items-center justify-center gap-1">
                        <i data-lucide="grid-3x3" class="w-3 h-3"></i> GRID FEED
                    </span>
                </label>
            </div>

            <div id="ctrl-carousel" class="space-y-3 animate-fade-in">
                <div class="flex justify-between text-[10px] text-gray-400">
                    <span>SLIDE COUNT</span>
                    <span id="val-carousel" class="text-[#00ff9d] font-mono">3</span>
                </div>
                <input type="range" id="opt-carousel" min="2" max="10" value="3" class="w-full h-1 bg-[#333] rounded-lg appearance-none cursor-pointer accent-[#00ff9d]" oninput="AppCore.updateSlider('carousel', this.value)">
                <p class="text-[10px] text-gray-600 mt-2 italic">*Potong panorama panjang jadi slide nyambung.</p>
            </div>

            <div id="ctrl-grid" class="space-y-3 hidden animate-fade-in">
                <div class="flex justify-between text-[10px] text-gray-400">
                    <span>GRID LAYOUT</span>
                    <span id="val-grid" class="text-[#00ff9d] font-mono">3x3</span>
                </div>
                <input type="range" id="opt-grid" min="1" max="9" value="3" class="w-full h-1 bg-[#333] rounded-lg appearance-none cursor-pointer accent-[#00ff9d]" oninput="AppCore.updateSlider('grid', this.value)">
                <p class="text-[10px] text-gray-600 mt-2 italic">*Potong foto jadi kotak-kotak buat profil.</p>
            </div>
        </div>

        <button id="btn-process" onclick="AppCore.processCut(this)" disabled class="w-full py-4 bg-[#00ff9d] hover:bg-[#00cc7d] text-black font-black font-[Oswald] text-lg rounded shadow-lg transition active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed tracking-wider flex items-center justify-center gap-2">
            EXECUTE CUT
        </button>

    </div>

    <div class="flex-1 bg-[#050505] flex items-center justify-center p-4 md:p-8 relative overflow-hidden touch-none">
        <div class="absolute inset-0 z-0 opacity-20 pointer-events-none" style="background-image: radial-gradient(#333 1px, transparent 1px); background-size: 20px 20px;"></div>

        <div class="relative z-10 shadow-2xl inline-block border border-[#333] bg-black">

            <div id="image-container" class="relative flex justify-center items-center">
                <div id="upload-placeholder" class="w-64 h-64 flex flex-col items-center justify-center text-gray-600 border-2 border-dashed border-[#333] m-4 rounded">
                    <i data-lucide="image" class="w-12 h-12 opacity-30 mb-2"></i>
                    <span class="text-xs font-mono">WAITING SOURCE...</span>
                </div>
            </div>

            <div id="overlay-container" class="grid-overlay absolute top-0 left-0 w-full h-full pointer-events-none">
                </div>
        </div>
    </div>
</div>
